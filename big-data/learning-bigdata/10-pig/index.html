<!DOCTYPE html>
<html>
  <head>
    <title>Doc hub</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-05-15T22:29:23 CST">
<title>10 Pig :: Doc hub</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

	<link href="/theme-flex/variant-gold.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/shengzhenfu.github.io\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/big-data/learning-bigdata/10-pig/">
    
      <header>
  <div class="logo">
    
	
  
    <p><strong>Doc hub</strong> @Shengzhen.Fu</p>

  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://shengzhenfu.github.io/"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Home</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/ShengzhenFu?tab=repositories"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/java-for-beginners/" class="dd-item haschildren
        ">
      <div>
      <a href="/java-for-beginners/">A Java Tutorial for Beginners</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/java-for-beginners/day01/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day01/">
            Day 01
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day02/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day02/">
            Day 02
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day03/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day03/">
            Day 03
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day04/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day04/">
            Day 04
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/it-infra/" class="dd-item haschildren
        ">
      <div>
      <a href="/it-infra/">About IT - Infrastructure</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/it-infra/mysql-password-reset-ubuntu/" class="dd-item">
        <div>
          <a href="/it-infra/mysql-password-reset-ubuntu/">
            Reset - Mysql - password-ubuntu
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/it-infra/jdk_maven_env_ubuntu/" class="dd-item">
        <div>
          <a href="/it-infra/jdk_maven_env_ubuntu/">
            Set - Env - JDK - Maven - ubuntu
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/it-infra/kubernetes-on-centos7/" class="dd-item">
        <div>
          <a href="/it-infra/kubernetes-on-centos7/">
            k8s - CentOS7 - Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/getting-start/" class="dd-item haschildren
        ">
      <div>
      <a href="/getting-start/">Getting started - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/getting-start/installation/" class="dd-item">
        <div>
          <a href="/getting-start/installation/">
            Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-start/configuration/" class="dd-item">
        <div>
          <a href="/getting-start/configuration/">
            Configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/create-page/" class="dd-item haschildren
        ">
      <div>
      <a href="/create-page/"><i class='fa fa-edit' ></i> Create Page-Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/create-page/homepage/" class="dd-item">
        <div>
          <a href="/create-page/homepage/">
            Home page
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/create-page/page-images/" class="dd-item">
        <div>
          <a href="/create-page/page-images/">
            About images
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/create-page/page-slide/" class="dd-item">
        <div>
          <a href="/create-page/page-slide/">
            Present a Slide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/big-data/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/big-data/">Big - Data</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/big-data/hadoop_setup_3nodes/" class="dd-item">
        <div>
          <a href="/big-data/hadoop_setup_3nodes/">
            3nodes-Hadoop-installation-setup
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/big-data/learning-bigdata/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/big-data/learning-bigdata/">Learning Big Data</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/big-data/learning-bigdata/01-intro/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/01-intro/">
            01 Introduction - BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/02-hadoop/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/02-hadoop/">
            02 Hadoop-introduction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/03-hadoop-on-ubuntu/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/03-hadoop-on-ubuntu/">
            03 Hadoop-installation(ubuntu)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/04-hdfs/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/04-hdfs/">
            04 HDFS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/05-mapreduce/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/05-mapreduce/">
            05 MapReduce
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/06-mapreduce-example/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/06-mapreduce-example/">
            06 MapReduce-example
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/07-join-mapreduce/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/07-join-mapreduce/">
            07 Join-MapReduce
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/08-sqoop/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/08-sqoop/">
            08 SQOOP
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/09-flume/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/09-flume/">
            09 Flume
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/10-pig/" class="dd-item active">
        <div>
          <a href="/big-data/learning-bigdata/10-pig/">
            10 Pig
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/11-oozie/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/11-oozie/">
            11 OOZIE
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/12-testing-bigdata/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/12-testing-bigdata/">
            12 Testing-BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/13-faq/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/13-faq/">
            13 FAQ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/14-top-tools-of-bigdata/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/14-top-tools-of-bigdata/">
            14 Top-tools-BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/">
            15 Top-BigData-Analytics-tools
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/content-organisation/" class="dd-item haschildren
        ">
      <div>
      <a href="/content-organisation/">Content Organisation - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/content-organisation/logo/" class="dd-item">
        <div>
          <a href="/content-organisation/logo/">
            Logo placeholder
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/extramenu/" class="dd-item">
        <div>
          <a href="/content-organisation/extramenu/">
            Extra menu entries
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/content-organisation/customize-style/" class="dd-item haschildren
        ">
      <div>
      <a href="/content-organisation/customize-style/">Customize website look and feel</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/content-organisation/customize-style/disable/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/disable/">
            Disable features
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/customize-style/themestyle/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/themestyle/">
            Theme styles
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/customize-style/theme-variants/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/theme-variants/">
            Theme variants
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/">Shortcodes - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/shortcodes/alert/" class="dd-item">
        <div>
          <a href="/shortcodes/alert/">
            alert
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/attachments/" class="dd-item">
        <div>
          <a href="/shortcodes/attachments/">
            attachments
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/button/" class="dd-item">
        <div>
          <a href="/shortcodes/button/">
            button
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/shortcodes/children/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/">children</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/">page 1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/">page 1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/">page 1-1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/">page 1-1-1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/" class="dd-item
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/">page 1-1-1-1-1</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/children/children-2/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-2/">page 2</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/shortcodes/children/children-2/test3/" class="dd-item">
        <div>
          <a href="/shortcodes/children/children-2/test3/">
            page test 3
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/children/children-3/" class="dd-item
        ">
      <div>
      <a href="/shortcodes/children/children-3/">page 3</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
      <li data-nav-id="/shortcodes/children/test/" class="dd-item">
        <div>
          <a href="/shortcodes/children/test/">
            page test
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/shortcodes/excerpt/" class="dd-item">
        <div>
          <a href="/shortcodes/excerpt/">
            excerpt
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/excerpt-include/" class="dd-item">
        <div>
          <a href="/shortcodes/excerpt-include/">
            excerpt-include
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/expand/" class="dd-item">
        <div>
          <a href="/shortcodes/expand/">
            expand
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/icon/" class="dd-item">
        <div>
          <a href="/shortcodes/icon/">
            icon
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/mermaid/" class="dd-item">
        <div>
          <a href="/shortcodes/mermaid/">
            mermaid
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/notice/" class="dd-item">
        <div>
          <a href="/shortcodes/notice/">
            notice
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/panel/" class="dd-item">
        <div>
          <a href="/shortcodes/panel/">
            panel
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/revealjs/" class="dd-item">
        <div>
          <a href="/shortcodes/revealjs/">
            revealjs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/search/" class="dd-item
        ">
      <div>
      <a href="/search/">About the Search Engine - Doc hub</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/java-for-beginners/" >
   A Java Tutorial for Beginners</option>
    <option value="/it-infra/" >
   About IT - Infrastructure</option>
    <option value="/getting-start/" >
   Getting started - Doc hub</option>
    <option value="/create-page/" >
   Create Page-Doc hub</option>
    <option value="/big-data/" >
   Big - Data</option> 
      <option value="/big-data/hadoop_setup_3nodes/" >- 3nodes-Hadoop-installation-setup</option>
    <option value="/big-data/learning-bigdata/" >
  - 
   Learning Big Data</option> 
      <option value="/big-data/learning-bigdata/01-intro/" >-- 01 Introduction - BigData</option>
      <option value="/big-data/learning-bigdata/02-hadoop/" >-- 02 Hadoop-introduction</option>
      <option value="/big-data/learning-bigdata/03-hadoop-on-ubuntu/" >-- 03 Hadoop-installation(ubuntu)</option>
      <option value="/big-data/learning-bigdata/04-hdfs/" >-- 04 HDFS</option>
      <option value="/big-data/learning-bigdata/05-mapreduce/" >-- 05 MapReduce</option>
      <option value="/big-data/learning-bigdata/06-mapreduce-example/" >-- 06 MapReduce-example</option>
      <option value="/big-data/learning-bigdata/07-join-mapreduce/" >-- 07 Join-MapReduce</option>
      <option value="/big-data/learning-bigdata/08-sqoop/" >-- 08 SQOOP</option>
      <option value="/big-data/learning-bigdata/09-flume/" >-- 09 Flume</option>
      <option value="/big-data/learning-bigdata/10-pig/"  selected>-- 10 Pig</option>
      <option value="/big-data/learning-bigdata/11-oozie/" >-- 11 OOZIE</option>
      <option value="/big-data/learning-bigdata/12-testing-bigdata/" >-- 12 Testing-BigData</option>
      <option value="/big-data/learning-bigdata/13-faq/" >-- 13 FAQ</option>
      <option value="/big-data/learning-bigdata/14-top-tools-of-bigdata/" >-- 14 Top-tools-BigData</option>
      <option value="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/" >-- 15 Top-BigData-Analytics-tools</option>
  
  
    <option value="/content-organisation/" >
   Content Organisation - Doc hub</option>
    <option value="/shortcodes/" >
   Shortcodes - Doc hub</option>
    <option value="/search/" >
   About the Search Engine - Doc hub</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/shengzhenfu.github.io\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>10 Pig</h1>
    
    
    
    

<h1 id="what-is-pig"><strong>What is PIG?</strong></h1>

<p>Pig is a high-level programming language useful for analyzing large data sets. A pig was a result of development effort at Yahoo!</p>

<p>In a MapReduce framework, programs need to be translated into a series of Map and Reduce stages. However, this is not a programming model which data analysts are familiar with. So, in order to bridge this gap, an abstraction called Pig was built on top of Hadoop.</p>

<p>Apache Pig enables people to focus more on <strong>analyzing bulk data sets and to spend less time writing Map-Reduce programs.</strong> Similar to Pigs, who eat anything, the Pig programming language is designed to work upon any kind of data. That&rsquo;s why the name, Pig!</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1128_INTRODUCTIO1.png" alt="img" /></p>

<p>In this beginner&rsquo;s Big Data tutorial, you will learn-</p>

<ul>
<li><a href="https://www.guru99.com/introduction-to-pig-and-hive.html#1">What is PIG?</a></li>
<li><a href="https://www.guru99.com/introduction-to-pig-and-hive.html#2">Pig Architecture</a></li>
<li><a href="https://www.guru99.com/introduction-to-pig-and-hive.html#3">Prerequisites</a></li>
<li><a href="https://www.guru99.com/introduction-to-pig-and-hive.html#4">How to Download and Install Pig</a></li>
<li><a href="https://www.guru99.com/introduction-to-pig-and-hive.html#5">Example Pig Script</a></li>
</ul>

<p><strong>Pig Architecture</strong></p>

<p>Pig consists of two components:</p>

<ol>
<li><strong>Pig Latin,</strong> which is a language</li>
<li><strong>A runtime environment,</strong> for running PigLatin programs.</li>
</ol>

<p>A Pig Latin program consists of a series of operations or transformations which are applied to the input data to produce output. These operations describe a data flow which is translated into an executable representation, by Pig execution environment. Underneath, results of these transformations are series of MapReduce jobs which a programmer is unaware of. So, in a way, Pig allows the programmer to focus on data rather than the nature of execution.</p>

<p>PigLatin is a relatively stiffened language which uses familiar keywords from data processing e.g., Join, Group and Filter.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1128_INTRODUCTIO2.jpg" alt="img" /></p>

<p>PIG Architecture</p>

<p><strong>Execution modes:</strong></p>

<p>Pig has two execution modes:</p>

<ol>
<li>Local mode: In this mode, Pig runs in a single JVM and makes use of local file system. This mode is suitable only for analysis of small datasets using Pig</li>
<li>Map Reduce mode: In this mode, queries written in Pig Latin are translated into MapReduce jobs and are run on a Hadoop cluster (cluster may be pseudo or fully distributed). MapReduce mode with the fully distributed cluster is useful of running Pig on large datasets.</li>
</ol>

<p><strong>How to Download and Install Pig</strong></p>

<p>Before we start with the actual process, ensure you have Hadoop installed. Change user to &lsquo;hduser&rsquo; (id used while Hadoop configuration, you can switch to the userid used during your Hadoop config)</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG1.png" alt="img" /></p>

<p><strong>Step 1)</strong> Download the stable latest release of Pig from any one of the mirrors sites available at</p>

<p><a href="http://pig.apache.org/releases.html">http://pig.apache.org/releases.html</a></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG2.png" alt="img" /></p>

<p>Select <strong>tar.gz</strong> (and not <strong>src.tar.gz)</strong> file to download.</p>

<p><strong>Step 2)</strong> Once a download is complete, navigate to the directory containing the downloaded tar file and move the tar to the location where you want to setup Pig. In this case, we will move to /usr/local</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG3.png" alt="img" /></p>

<p>Move to a directory containing Pig Files</p>

<p>cd /usr/local</p>

<p>Extract contents of tar file as below</p>

<p>sudo tar -xvf pig-0.12.1.tar.gz</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG4.png" alt="img" /></p>

<p><strong>Step 3).</strong> Modify <strong>~/.bashrc</strong> to add Pig related environment variables</p>

<p>Open <strong>~/.bashrc</strong> file in any text editor of your choice and do below modifications-</p>

<p>export PIG_HOME=<Installation directory of Pig> export PATH=$PIG_HOME/bin:$HADOOP_HOME/bin:$PATH</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG5.png" alt="img" /></p>

<p><strong>Step 4)</strong> Now, source this environment configuration using below command</p>

<p>. ~/.bashrc</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG6.png" alt="img" /></p>

<p><strong>Step 5)</strong> We need to recompile <strong>PIG</strong> to support <strong>Hadoop 2.2.0</strong></p>

<p>Here are the steps to do this-</p>

<p>Go to PIG home directory</p>

<p>cd $PIG_HOME</p>

<p>Install Ant</p>

<p>sudo apt-get install ant</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG7.png" alt="img" /></p>

<p>Note: Download will start and will consume time as per your internet speed.</p>

<p>Recompile PIG</p>

<p>sudo ant clean jar-all -Dhadoopversion=23</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG8.png" alt="img" /></p>

<p>Please note that in this recompilation process multiple components are downloaded. So, a system should be connected to the internet.</p>

<p>Also, in case this process stuck somewhere and you don&rsquo;t see any movement on command prompt for more than 20 minutes then press <strong>Ctrl + c</strong> and rerun the same command.</p>

<p>In our case, it takes 20 minutes</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG9.png" alt="img" /></p>

<p><strong>Step 6)</strong> Test the <strong>Pig</strong> installation using the command</p>

<p>pig -help</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG10.png" alt="img" /></p>

<p><strong>Example Pig Script</strong></p>

<p>We will use PIG to find the Number of Products Sold in Each Country.</p>

<p><strong>Input:</strong> Our input data set is a CSV file, <a href="https://drive.google.com/uc?export=download&amp;id=1tP8AJGSgDXwI12r2Ap07GyamMj1o0iDD">SalesJan2009.csv</a></p>

<p><strong>Step 1)</strong> Start Hadoop</p>

<p>$HADOOP_HOME/sbin/start-dfs.sh</p>

<p>$HADOOP_HOME/sbin/start-yarn.sh</p>

<p><strong>Step 2)</strong> Pig takes a file from HDFS in MapReduce mode and stores the results back to HDFS.</p>

<p>Copy file <strong>SalesJan2009.csv</strong> (stored on local file system, <strong>~/input/SalesJan2009.csv</strong>) to HDFS (Hadoop Distributed File System) Home Directory</p>

<p>Here the file is in Folder input. If the file is stored in some other location give that name</p>

<p>$HADOOP_HOME/bin/hdfs dfs -copyFromLocal ~/input/SalesJan2009.csv /</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG11.png" alt="img" /></p>

<p>Verify whether a file is actually copied or not.</p>

<p>$HADOOP_HOME/bin/hdfs dfs -ls /</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG12.png" alt="img" /></p>

<p><strong>Step 3)</strong> Pig Configuration</p>

<p>First, navigate to $PIG_HOME/conf</p>

<p>cd $PIG_HOME/conf</p>

<p>sudo cp pig.properties pig.properties.original</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG13.png" alt="img" /></p>

<p>Open <strong>pig.properties</strong> using a text editor of your choice, and specify log file path using <strong>pig.logfile</strong></p>

<p>sudo gedit pig.properties</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG14.png" alt="img" /></p>

<p>Loger will make use of this file to log errors.</p>

<p><strong>Step 4)</strong> Run command &lsquo;pig&rsquo; which will start Pig command prompt which is an interactive shell Pig queries.</p>

<p>pig</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG15.png" alt="img" /></p>

<p><strong>Step 5)</strong>In Grunt command prompt for Pig, execute below Pig commands in order.</p>

<p>&ndash; A. Load the file containing data.</p>

<p>salesTable = LOAD &lsquo;/SalesJan2009.csv&rsquo; USING PigStorage(&lsquo;,&rsquo;) AS (Transaction_date:chararray,Product:chararray,Price:chararray,Payment_Type:chararray,Name:chararray,City:chararray,State:chararray,Country:chararray,Account_Created:chararray,Last_Login:chararray,Latitude:chararray,Longitude:chararray);</p>

<p>Press Enter after this command.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG16.png" alt="img" /></p>

<p>&ndash; B. Group data by field Country</p>

<p>GroupByCountry = GROUP salesTable BY Country;</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG17.png" alt="img" /></p>

<p>&ndash; C. For each tuple in <strong>&lsquo;GroupByCountry&rsquo;</strong>, generate the resulting string of the form-&gt; Name of Country: No. of products sold</p>

<p>CountByCountry = FOREACH GroupByCountry GENERATE CONCAT((chararray)$0,CONCAT(&rsquo;:&lsquo;,(chararray)COUNT($1)));</p>

<p>Press Enter after this command.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG18.png" alt="img" /></p>

<p>&ndash; D. Store the results of Data Flow in the directory <strong>&lsquo;pig_output_sales&rsquo;</strong> on HDFS</p>

<p>STORE CountByCountry INTO &lsquo;pig_output_sales&rsquo; USING PigStorage(&rsquo;\t&rsquo;);</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG19.png" alt="img" /></p>

<p>This command will take some time to execute. Once done, you should see the following screen</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG20.png" alt="img" /></p>

<p><strong>Step 6)</strong> Result can be seen through command interface as,</p>

<p>$HADOOP_HOME/bin/hdfs dfs -cat pig_output_sales/part-r-00000</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG21.png" alt="img" /></p>

<p>Results can also be seen via a web interface as-</p>

<p><strong>Results through a web interface-</strong></p>

<p>Open <a href="http://localhost:50070/">http://localhost:50070/</a> in a web browser.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG22.png" alt="img" /></p>

<p>Now select <strong>&lsquo;Browse the filesystem&rsquo;</strong> and navigate upto <strong>/user/hduser/pig_output_sales</strong></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG23.png" alt="img" /></p>

<p>Open <strong>part-r-00000</strong></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1236_HANDSONPIG24.png" alt="img" /></p>

<h2 id="11-oozie">11 OOZIE</h2>

<p><a href="/big-data/learning-bigdata/11-oozie/">11 OOZIE</a></p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/big-data/learning-bigdata/09-flume/" title="09 Flume"> <i class="fa fa-chevron-left"></i><label>09 Flume</label></a>
    <a class="nav nav-next" href="/big-data/learning-bigdata/11-oozie/" title="11 OOZIE" style="margin-right: 0px;"><label>11 OOZIE</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">
      <a href="https://shengzhenfu.github.ioBig-Data/Learning-BigData/10-Pig.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    <p><strong>Doc hub</strong> @Shengzhen.Fu</p>

  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>