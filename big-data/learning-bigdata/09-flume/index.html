<!DOCTYPE html>
<html>
  <head>
    <title>Doc hub</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-05-15T22:29:23 CST">
<title>09 Flume :: Doc hub</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

	<link href="/theme-flex/variant-gold.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/shengzhenfu.github.io\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/big-data/learning-bigdata/09-flume/">
    
      <header>
  <div class="logo">
    
	
  
    <p><strong>Doc hub</strong> @Shengzhen.Fu</p>

  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://shengzhenfu.github.io/"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Home</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/ShengzhenFu?tab=repositories"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/java-for-beginners/" class="dd-item haschildren
        ">
      <div>
      <a href="/java-for-beginners/">A Java Tutorial for Beginners</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/java-for-beginners/day01/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day01/">
            Day 01
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day02/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day02/">
            Day 02
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day03/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day03/">
            Day 03
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day04/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day04/">
            Day 04
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/it-infra/" class="dd-item haschildren
        ">
      <div>
      <a href="/it-infra/">About IT - Infrastructure</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/it-infra/mysql-password-reset-ubuntu/" class="dd-item">
        <div>
          <a href="/it-infra/mysql-password-reset-ubuntu/">
            Reset - Mysql - password-ubuntu
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/it-infra/jdk_maven_env_ubuntu/" class="dd-item">
        <div>
          <a href="/it-infra/jdk_maven_env_ubuntu/">
            Set - Env - JDK - Maven - ubuntu
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/it-infra/kubernetes-on-centos7/" class="dd-item">
        <div>
          <a href="/it-infra/kubernetes-on-centos7/">
            k8s - CentOS7 - Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/getting-start/" class="dd-item haschildren
        ">
      <div>
      <a href="/getting-start/">Getting started - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/getting-start/installation/" class="dd-item">
        <div>
          <a href="/getting-start/installation/">
            Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-start/configuration/" class="dd-item">
        <div>
          <a href="/getting-start/configuration/">
            Configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/create-page/" class="dd-item haschildren
        ">
      <div>
      <a href="/create-page/"><i class='fa fa-edit' ></i> Create Page-Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/create-page/homepage/" class="dd-item">
        <div>
          <a href="/create-page/homepage/">
            Home page
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/create-page/page-images/" class="dd-item">
        <div>
          <a href="/create-page/page-images/">
            About images
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/create-page/page-slide/" class="dd-item">
        <div>
          <a href="/create-page/page-slide/">
            Present a Slide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/big-data/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/big-data/">Big - Data</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/big-data/hadoop_setup_3nodes/" class="dd-item">
        <div>
          <a href="/big-data/hadoop_setup_3nodes/">
            3nodes-Hadoop-installation-setup
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/big-data/learning-bigdata/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/big-data/learning-bigdata/">Learning Big Data</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/big-data/learning-bigdata/01-intro/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/01-intro/">
            01 Introduction - BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/02-hadoop/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/02-hadoop/">
            02 Hadoop-introduction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/03-hadoop-on-ubuntu/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/03-hadoop-on-ubuntu/">
            03 Hadoop-installation(ubuntu)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/04-hdfs/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/04-hdfs/">
            04 HDFS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/05-mapreduce/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/05-mapreduce/">
            05 MapReduce
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/06-mapreduce-example/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/06-mapreduce-example/">
            06 MapReduce-example
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/07-join-mapreduce/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/07-join-mapreduce/">
            07 Join-MapReduce
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/08-sqoop/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/08-sqoop/">
            08 SQOOP
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/09-flume/" class="dd-item active">
        <div>
          <a href="/big-data/learning-bigdata/09-flume/">
            09 Flume
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/10-pig/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/10-pig/">
            10 Pig
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/11-oozie/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/11-oozie/">
            11 OOZIE
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/12-testing-bigdata/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/12-testing-bigdata/">
            12 Testing-BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/13-faq/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/13-faq/">
            13 FAQ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/14-top-tools-of-bigdata/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/14-top-tools-of-bigdata/">
            14 Top-tools-BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/">
            15 Top-BigData-Analytics-tools
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/content-organisation/" class="dd-item haschildren
        ">
      <div>
      <a href="/content-organisation/">Content Organisation - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/content-organisation/logo/" class="dd-item">
        <div>
          <a href="/content-organisation/logo/">
            Logo placeholder
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/extramenu/" class="dd-item">
        <div>
          <a href="/content-organisation/extramenu/">
            Extra menu entries
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/content-organisation/customize-style/" class="dd-item haschildren
        ">
      <div>
      <a href="/content-organisation/customize-style/">Customize website look and feel</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/content-organisation/customize-style/disable/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/disable/">
            Disable features
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/customize-style/themestyle/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/themestyle/">
            Theme styles
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/customize-style/theme-variants/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/theme-variants/">
            Theme variants
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/">Shortcodes - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/shortcodes/alert/" class="dd-item">
        <div>
          <a href="/shortcodes/alert/">
            alert
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/attachments/" class="dd-item">
        <div>
          <a href="/shortcodes/attachments/">
            attachments
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/button/" class="dd-item">
        <div>
          <a href="/shortcodes/button/">
            button
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/shortcodes/children/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/">children</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/">page 1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/">page 1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/">page 1-1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/">page 1-1-1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/" class="dd-item
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/">page 1-1-1-1-1</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/children/children-2/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-2/">page 2</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/shortcodes/children/children-2/test3/" class="dd-item">
        <div>
          <a href="/shortcodes/children/children-2/test3/">
            page test 3
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/children/children-3/" class="dd-item
        ">
      <div>
      <a href="/shortcodes/children/children-3/">page 3</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
      <li data-nav-id="/shortcodes/children/test/" class="dd-item">
        <div>
          <a href="/shortcodes/children/test/">
            page test
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/shortcodes/excerpt/" class="dd-item">
        <div>
          <a href="/shortcodes/excerpt/">
            excerpt
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/excerpt-include/" class="dd-item">
        <div>
          <a href="/shortcodes/excerpt-include/">
            excerpt-include
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/expand/" class="dd-item">
        <div>
          <a href="/shortcodes/expand/">
            expand
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/icon/" class="dd-item">
        <div>
          <a href="/shortcodes/icon/">
            icon
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/mermaid/" class="dd-item">
        <div>
          <a href="/shortcodes/mermaid/">
            mermaid
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/notice/" class="dd-item">
        <div>
          <a href="/shortcodes/notice/">
            notice
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/panel/" class="dd-item">
        <div>
          <a href="/shortcodes/panel/">
            panel
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/revealjs/" class="dd-item">
        <div>
          <a href="/shortcodes/revealjs/">
            revealjs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/search/" class="dd-item
        ">
      <div>
      <a href="/search/">About the Search Engine - Doc hub</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/java-for-beginners/" >
   A Java Tutorial for Beginners</option>
    <option value="/it-infra/" >
   About IT - Infrastructure</option>
    <option value="/getting-start/" >
   Getting started - Doc hub</option>
    <option value="/create-page/" >
   Create Page-Doc hub</option>
    <option value="/big-data/" >
   Big - Data</option> 
      <option value="/big-data/hadoop_setup_3nodes/" >- 3nodes-Hadoop-installation-setup</option>
    <option value="/big-data/learning-bigdata/" >
  - 
   Learning Big Data</option> 
      <option value="/big-data/learning-bigdata/01-intro/" >-- 01 Introduction - BigData</option>
      <option value="/big-data/learning-bigdata/02-hadoop/" >-- 02 Hadoop-introduction</option>
      <option value="/big-data/learning-bigdata/03-hadoop-on-ubuntu/" >-- 03 Hadoop-installation(ubuntu)</option>
      <option value="/big-data/learning-bigdata/04-hdfs/" >-- 04 HDFS</option>
      <option value="/big-data/learning-bigdata/05-mapreduce/" >-- 05 MapReduce</option>
      <option value="/big-data/learning-bigdata/06-mapreduce-example/" >-- 06 MapReduce-example</option>
      <option value="/big-data/learning-bigdata/07-join-mapreduce/" >-- 07 Join-MapReduce</option>
      <option value="/big-data/learning-bigdata/08-sqoop/" >-- 08 SQOOP</option>
      <option value="/big-data/learning-bigdata/09-flume/"  selected>-- 09 Flume</option>
      <option value="/big-data/learning-bigdata/10-pig/" >-- 10 Pig</option>
      <option value="/big-data/learning-bigdata/11-oozie/" >-- 11 OOZIE</option>
      <option value="/big-data/learning-bigdata/12-testing-bigdata/" >-- 12 Testing-BigData</option>
      <option value="/big-data/learning-bigdata/13-faq/" >-- 13 FAQ</option>
      <option value="/big-data/learning-bigdata/14-top-tools-of-bigdata/" >-- 14 Top-tools-BigData</option>
      <option value="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/" >-- 15 Top-BigData-Analytics-tools</option>
  
  
    <option value="/content-organisation/" >
   Content Organisation - Doc hub</option>
    <option value="/shortcodes/" >
   Shortcodes - Doc hub</option>
    <option value="/search/" >
   About the Search Engine - Doc hub</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/shengzhenfu.github.io\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>09 Flume</h1>
    
    
    
    

<h1 id="what-is-flume-in-hadoop"><strong>What is FLUME in Hadoop?</strong></h1>

<p>Apache Flume is a system used for moving massive quantities of streaming data into HDFS. Collecting log data present in log files from web servers and aggregating it in HDFS for analysis, is one common example use case of Flume.</p>

<p>Flume supports multiple sources like â€“</p>

<ul>
<li>&lsquo;tail&rsquo; (which pipes data from a local file and write into HDFS via Flume, similar to Unix command &lsquo;tail&rsquo;)</li>
<li>System logs</li>
<li>Apache log4j (enable Java applications to write events to files in HDFS via Flume).</li>
</ul>

<p>In this tutorial, you will learn-</p>

<ul>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#1">What is FLUME in Hadoop?</a></li>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#2">Flume Architecture</a></li>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#3">Some Important features of FLUME</a></li>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#5">Flume, library and source code setup</a></li>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#6">Load data from Twitter using Flume</a></li>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#7">Creating a Twitter Application</a></li>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#8">Modify &lsquo;flume.conf&rsquo; File</a></li>
<li><a href="https://www.guru99.com/create-your-first-flume-program.html#9">Example: Streaming Twitter Data using Flume</a></li>
</ul>

<p><strong>Flume Architecture</strong></p>

<p>A <strong>Flume agent</strong> is a <strong>JVM</strong> process which has 3 components -<strong>Flume Source, Flume Channel</strong> and <strong>Flume Sink</strong>- through which events propagate after initiated at an external source.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1038_Introductio2.png" alt="img" /></p>

<p>Flume Architecture</p>

<ol>
<li>In the above diagram, the events generated by external source (WebServer) are consumed by Flume Data Source. The external source sends events to Flume source in a format that is recognized by the target source.</li>
<li>Flume Source receives an event and stores it into one or more channels. The channel acts as a store which keeps the event until it is consumed by the flume sink. This channel may use a local file system in order to store these events.</li>
<li>Flume sink removes the event from a channel and stores it into an external repository like e.g., HDFS. There could be multiple flume agents, in which case flume sink forwards the event to the flume source of next flume agent in the flow.</li>
</ol>

<p><strong>Some Important features of FLUME</strong></p>

<ul>
<li>Flume has a flexible design based upon streaming data flows. It is fault tolerant and robust with multiple failovers and recovery mechanisms. Flume has different levels of reliability to offer which includes <strong>&lsquo;best-effort delivery&rsquo;</strong> and an <strong>&lsquo;end-to-end delivery&rsquo;</strong>. <strong>Best-effort delivery</strong> does not tolerate any Flume node failure whereas <strong>&lsquo;end-to-end delivery&rsquo;</strong> mode guarantees delivery even in the event of multiple node failures.</li>
<li>Flume carries data between sources and sinks. This gathering of data can either be scheduled or event-driven. Flume has its own query processing engine which makes it easy to transform each new batch of data before it is moved to the intended sink.</li>
<li>Possible <strong>Flume sinks</strong> include <strong>HDFS</strong> and <strong>HBase</strong>. Flume can also be used to transport event data including but not limited to network traffic data, data generated by social media websites and email messages.</li>
</ul>

<p><strong>Flume, library and source code setup</strong></p>

<p>Before we start with the actual process, ensure you have Hadoop installed. Change user to &lsquo;hduser&rsquo; (id used while Hadoop configuration, you can switch to the userid used during your Hadoop config)</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM1.png" alt="img" /></p>

<p><strong>Step 1)</strong> Create a new directory with the name &lsquo;FlumeTutorial&rsquo;</p>

<p>sudo mkdir FlumeTutorial</p>

<ol>
<li>Give a read, write and execute permissions</li>
</ol>

<p>sudo chmod -R 777 FlumeTutorial</p>

<ol>
<li>Copy files <strong>MyTwitterSource.java</strong> and <strong>MyTwitterSourceForFlume.java</strong> in this directory.</li>
</ol>

<p><a href="https://drive.google.com/uc?export=download&amp;id=0B_vqvT0ovzHcendnWXlfbThMejQ"><strong>Download Input Files From Here</strong></a></p>

<p>Check the file permissions of all these files and if &lsquo;read&rsquo; permissions are missing then grant the same-</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM2.png" alt="img" /></p>

<p><strong>Step 2)</strong> Download &lsquo;Apache Flume&rsquo; from a site- <a href="https://flume.apache.org/download.html"><strong>https://flume.apache.org/download.html</strong></a></p>

<p>Apache Flume 1.4.0 has been used in this tutorial.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM3.png" alt="img" /></p>

<p>Next Click</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM4.png" alt="img" /></p>

<p><strong>Step 3)</strong> Copy the downloaded tarball in the directory of your choice and extract contents using the following command</p>

<p>sudo tar -xvf apache-flume-1.4.0-bin.tar.gz</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM5.png" alt="img" /></p>

<p>This command will create a new directory named <strong>apache-flume-1.4.0-bin</strong> and extract files into it. This directory will be referred to as <strong><Installation Directory of Flume></strong> in rest of the article.</p>

<p><strong>Step 4)</strong> Flume library setup</p>

<p>Copy <strong>twitter4j-core-4.0.1.jar, flume-ng-configuration-1.4.0.jar, flume-ng-core-1.4.0.jar, flume-ng-sdk-1.4.0.jar</strong> to</p>

<p><strong><Installation Directory of Flume>/lib/</strong></p>

<p>It is possible that either or all of the copied JAR will have to execute permission. This may cause an issue with the compilation of code. So, revoke execute permission on such JAR.</p>

<p>In my case, <strong>twitter4j-core-4.0.1.jar was</strong> having to execute permission. I revoked it as below-</p>

<p>sudo chmod -x twitter4j-core-4.0.1.jar</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM6.png" alt="img" /></p>

<p>After this command gives &lsquo;read&rsquo; permission on <strong>twitter4j-core-4.0.1.jar</strong> to all.</p>

<p>sudo chmod +rrr /usr/local/apache-flume-1.4.0-bin/lib/twitter4j-core-4.0.1.jar</p>

<p>Please note that I have downloaded-</p>

<p><strong>- twitter4j-core-4.0.1.jar</strong> from <a href="http://mvnrepository.com/artifact/org.twitter4j/twitter4j-core">http://mvnrepository.com/artifact/org.twitter4j/twitter4j-core</a></p>

<p><strong>-</strong> All flame JARs i.e., <strong>flume-ng-*-1.4.0.jar</strong> from <a href="http://mvnrepository.com/artifact/org.apache.flume">http://mvnrepository.com/artifact/org.apache.flume</a></p>

<p><strong>Load data from Twitter using Flume</strong></p>

<p><strong>Step 1)</strong> Go to the directory containing source code files in it.</p>

<p><strong>Step 2)</strong> Set <strong>CLASSPATH</strong> to contain <strong><Flume Installation Dir>/lib/*</strong> and <strong>~/FlumeTutorial/flume/mytwittersource/*</strong></p>

<p>export CLASSPATH=&ldquo;/usr/local/apache-flume-1.4.0-bin/lib/<em>:~/FlumeTutorial/flume/mytwittersource/</em>&ldquo;</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM8.png" alt="img" /></p>

<p><strong>Step 3)</strong> Compile source code using the command-</p>

<p>javac -d . MyTwitterSourceForFlume.java MyTwitterSource.java</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM9.png" alt="img" /></p>

<p><strong>Step 4)</strong>Create a jar</p>

<p>First, create <strong>Manifest.txt</strong> file using a text editor of your choice and add below line in it-</p>

<p>Main-Class: flume.mytwittersource.MyTwitterSourceForFlume</p>

<p>.. here <strong>flume.mytwittersource.MyTwitterSourceForFlume</strong> is the name of the main class. Please note that you have to hit enter key at end of this line.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM10.png" alt="img" /></p>

<p>Now, create JAR &lsquo;<strong>MyTwitterSourceForFlume.jar&rsquo;</strong> as-</p>

<p>jar cfm MyTwitterSourceForFlume.jar Manifest.txt flume/mytwittersource/*.class</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM11.png" alt="img" /></p>

<p><strong>Step 5)</strong> Copy this jar to <strong><Flume Installation Directory>/lib/</strong></p>

<p>sudo cp MyTwitterSourceForFlume.jar <Flume Installation Directory>/lib/</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM12.png" alt="img" /></p>

<p><strong>Step 6)</strong> Go to the configuration directory of Flume, <strong><Flume Installation Directory>/conf</strong></p>

<p>If flume.conf does not exist, then copy flume-conf.properties.template and rename it to flume.conf</p>

<p>sudo cp flume-conf.properties.template flume.conf</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM13.png" alt="img" /></p>

<p>If <strong>flume-env.sh</strong> does not exist, then copy <strong>flume-env.sh.template</strong> and rename it to <strong>flume-env.sh</strong></p>

<p>sudo cp flume-env.sh.template flume-env.sh</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM14.png" alt="img" /></p>

<p><strong>Creating a Twitter Application</strong></p>

<p><strong>Step 1)</strong> Create a Twitter application by signing in to <a href="https://developer.twitter.com/"><strong>https://developer.twitter.com/</strong></a></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM15.png" alt="img" /></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM16.png" alt="img" /></p>

<p><strong>Step 2)</strong> Go to <strong>&lsquo;My applications&rsquo;</strong> (This option gets dropped down when <strong>&lsquo;Egg&rsquo;</strong> button at the top right corner is clicked)</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM17.png" alt="img" /></p>

<p><strong>Step 3)</strong> Create a new application by clicking <strong>&lsquo;Create New App&rsquo;</strong></p>

<p><strong>Step 4)</strong> Fill up application details by specifying the name of application, description, and website. You may refer to the notes given underneath each input box.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM18.png" alt="img" /></p>

<p><strong>Step 5)</strong> Scroll down the page and accept terms by marking <strong>&lsquo;Yes, I agree&rsquo;</strong> and click on button<strong>&lsquo;Create your Twitter application&rsquo;</strong></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM19.png" alt="img" /></p>

<p><strong>Step 6)</strong> On the window of a newly created application, go to the tab, <strong>&lsquo;API Keys&rsquo;</strong> scroll down the page and click button <strong>&lsquo;Create my access token&rsquo;</strong></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM20.png" alt="img" /></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM21.png" alt="img" /></p>

<p><strong>Step 7)</strong> Refresh the page.</p>

<p><strong>Step 8)</strong> Click on <strong>&lsquo;Test OAuth&rsquo;</strong>. This will display <strong>&lsquo;OAuth&rsquo;</strong> settings of the application.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM22.png" alt="img" /></p>

<p><strong>Step 9)</strong> Modify <strong>&lsquo;flume.conf&rsquo;</strong> using these <strong>OAuth settings</strong>. Steps to modify <strong>&lsquo;flume.conf&rsquo;</strong> are given below.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM23.png" alt="img" /></p>

<p>We need to copy Consumer key, Consumer secret, Access token and Access token secret to updating &lsquo;flume.conf&rsquo;.</p>

<p><strong>Note: These values belong to the user and hence are confidential, so should not be shared.</strong></p>

<p><strong>Modify &lsquo;flume.conf&rsquo; File</strong></p>

<p><strong>Step 1)</strong> Open <strong>&lsquo;flume.conf&rsquo;</strong> in write mode and set values for below parameters-</p>

<p>sudo gedit flume.conf</p>

<p>Copy below contents-</p>

<p>MyTwitAgent.sources = Twitter MyTwitAgent.channels = MemChannel MyTwitAgent.sinks = HDFS MyTwitAgent.sources.Twitter.type = flume.mytwittersource.MyTwitterSourceForFlume MyTwitAgent.sources.Twitter.channels = MemChannel  MyTwitAgent.sources.Twitter.consumerKey = <Copy consumer key value from Twitter App> MyTwitAgent.sources.Twitter.consumerSecret = <Copy consumer secret value from Twitter App> MyTwitAgent.sources.Twitter.accessToken = <Copy access token value from Twitter App> MyTwitAgent.sources.Twitter.accessTokenSecret = <Copy access token secret value from Twitter App> MyTwitAgent.sources.Twitter.keywords = guru99 MyTwitAgent.sinks.HDFS.channel = MemChannel MyTwitAgent.sinks.HDFS.type = hdfs MyTwitAgent.sinks.HDFS.hdfs.path = hdfs://localhost:54310/user/hduser/flume/tweets/ MyTwitAgent.sinks.HDFS.hdfs.fileType = DataStream MyTwitAgent.sinks.HDFS.hdfs.writeFormat = Text MyTwitAgent.sinks.HDFS.hdfs.batchSize = 1000 MyTwitAgent.sinks.HDFS.hdfs.rollSize = 0 MyTwitAgent.sinks.HDFS.hdfs.rollCount = 10000 MyTwitAgent.channels.MemChannel.type = memory MyTwitAgent.channels.MemChannel.capacity = 10000 MyTwitAgent.channels.MemChannel.transactionCapacity = 1000</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM24.png" alt="img" /></p>

<p><strong>Step 2)</strong> Also, set <strong>TwitterAgent.sinks.HDFS.hdfs.path</strong> as below,</p>

<p><strong>TwitterAgent.sinks.HDFS.hdfs.path = hdfs://<Host Name>:<Port Number>/<HDFS Home Directory>/flume/tweets/</strong></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM25.png" alt="img" /></p>

<p>To know <strong><Host Name></strong>, <strong><Port Number></strong> and <strong><HDFS Home Directory></strong> , see value of parameter <strong>&lsquo;fs.defaultFS&rsquo;</strong> set in <strong>$HADOOP_HOME/etc/hadoop/core-site.xml</strong></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM26.png" alt="img" /></p>

<p><strong>Step 3)</strong> In order to flush the data to HDFS, as an when it comes, delete below entry if it exists,</p>

<p><strong>TwitterAgent.sinks.HDFS.hdfs.rollInterval = 600</strong></p>

<p><strong>Example: Streaming Twitter Data using Flume</strong></p>

<p><strong>Step 1)</strong> Open <strong>&lsquo;flume-env.sh&rsquo;</strong> in write mode and set values for below parameters,</p>

<p>JAVA_HOME=<Installation directory of Java></p>

<p>FLUME_CLASSPATH=&rdquo;<Flume Installation Directory>/lib/MyTwitterSourceForFlume.jar&rdquo;</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM27.png" alt="img" /></p>

<p><strong>Step 2)</strong> Start Hadoop</p>

<p>$HADOOP_HOME/sbin/start-dfs.sh</p>

<p>$HADOOP_HOME/sbin/start-yarn.sh</p>

<p><strong>Step 3)</strong> Two of the JAR files from the Flume tarball are not compatible with Hadoop 2.2.0. So, we will need to follow below steps to make Flume compatible with Hadoop 2.2.0.</p>

<p><strong>a.</strong> Move <strong>protobuf-java-2.4.1.jar</strong> out of <strong>&lsquo;<Flume Installation Directory>/lib&rsquo;.</strong></p>

<p>Go to <strong>&lsquo;<Flume Installation Directory>/lib&rsquo;</strong></p>

<p><strong>cd <Flume Installation Directory>/lib</strong></p>

<p>sudo mv protobuf-java-2.4.1.jar ~/</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM28.png" alt="img" /></p>

<p><strong>b.</strong> Find for JAR file &lsquo;guava&rsquo; as below</p>

<p>find . -name &ldquo;guava*&rdquo;</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM29.png" alt="img" /></p>

<p>Move <strong>guava-10.0.1.jar</strong> out of <strong>&lsquo;<Flume Installation Directory>/lib&rsquo;.</strong></p>

<p>sudo mv guava-10.0.1.jar ~/</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM30.png" alt="img" /></p>

<p><strong>c.</strong> Download <strong>guava-17.0.jar</strong> from <a href="http://mvnrepository.com/artifact/com.google.guava/guava/17.0">http://mvnrepository.com/artifact/com.google.guava/guava/17.0</a></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM31.png" alt="img" /></p>

<p>Now, copy this downloaded jar file to <strong>&lsquo;<Flume Installation Directory>/lib&rsquo;</strong></p>

<p><strong>Step 4)</strong> Go to <strong>&lsquo;<Flume Installation Directory>/bin&rsquo;</strong> and start Flume as-</p>

<p>./flume-ng agent -n MyTwitAgent -c conf -f <Flume Installation Directory>/conf/flume.conf</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM32.png" alt="img" /></p>

<p>Command prompt window where flume is fetching Tweets-</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM33.png" alt="img" /></p>

<p>From command window message we can see that the output is written to <strong>/user/hduser/flume/tweets/</strong> directory.</p>

<p>Now, open this directory using a web browser.</p>

<p><strong>Step 5)</strong> To see the result of data load, using a browser open <strong><a href="http://localhost:50070/">http://localhost:50070/</a></strong> and browse the file system, then go to the directory where data has been loaded, that is-</p>

<p><strong><HDFS Home Directory>/flume/tweets/</strong></p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_1213_HANDSONFLUM34.png" alt="img" /></p>

<h2 id="10-pig">10 Pig</h2>

<p><a href="/big-data/learning-bigdata/10-pig/">10 Pig Introduction</a></p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/big-data/learning-bigdata/08-sqoop/" title="08 SQOOP"> <i class="fa fa-chevron-left"></i><label>08 SQOOP</label></a>
    <a class="nav nav-next" href="/big-data/learning-bigdata/10-pig/" title="10 Pig" style="margin-right: 0px;"><label>10 Pig</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">
      <a href="https://shengzhenfu.github.ioBig-Data/Learning-BigData/09-Flume.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    <p><strong>Doc hub</strong> @Shengzhen.Fu</p>

  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>