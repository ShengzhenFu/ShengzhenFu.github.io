<!DOCTYPE html>
<html>
  <head>
    <title>Doc hub</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-05-15T22:29:23 CST">
<title>04 HDFS :: Doc hub</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

	<link href="/theme-flex/variant-gold.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/shengzhenfu.github.io\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/big-data/learning-bigdata/04-hdfs/">
    
      <header>
  <div class="logo">
    
	
  
    <p><strong>Doc hub</strong> @Shengzhen.Fu</p>

  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://shengzhenfu.github.io/"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Home</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/ShengzhenFu?tab=repositories"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/java-for-beginners/" class="dd-item haschildren
        ">
      <div>
      <a href="/java-for-beginners/">A Java Tutorial for Beginners</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/java-for-beginners/day01/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day01/">
            Day 01
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day02/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day02/">
            Day 02
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day03/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day03/">
            Day 03
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java-for-beginners/day04/" class="dd-item">
        <div>
          <a href="/java-for-beginners/day04/">
            Day 04
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/it-infra/" class="dd-item haschildren
        ">
      <div>
      <a href="/it-infra/">About IT - Infrastructure</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/it-infra/mysql-password-reset-ubuntu/" class="dd-item">
        <div>
          <a href="/it-infra/mysql-password-reset-ubuntu/">
            Reset - Mysql - password-ubuntu
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/it-infra/jdk_maven_env_ubuntu/" class="dd-item">
        <div>
          <a href="/it-infra/jdk_maven_env_ubuntu/">
            Set - Env - JDK - Maven - ubuntu
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/it-infra/kubernetes-on-centos7/" class="dd-item">
        <div>
          <a href="/it-infra/kubernetes-on-centos7/">
            k8s - CentOS7 - Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/getting-start/" class="dd-item haschildren
        ">
      <div>
      <a href="/getting-start/">Getting started - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/getting-start/installation/" class="dd-item">
        <div>
          <a href="/getting-start/installation/">
            Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-start/configuration/" class="dd-item">
        <div>
          <a href="/getting-start/configuration/">
            Configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/create-page/" class="dd-item haschildren
        ">
      <div>
      <a href="/create-page/"><i class='fa fa-edit' ></i> Create Page-Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/create-page/homepage/" class="dd-item">
        <div>
          <a href="/create-page/homepage/">
            Home page
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/create-page/page-images/" class="dd-item">
        <div>
          <a href="/create-page/page-images/">
            About images
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/create-page/page-slide/" class="dd-item">
        <div>
          <a href="/create-page/page-slide/">
            Present a Slide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/big-data/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/big-data/">Big - Data</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/big-data/hadoop_setup_3nodes/" class="dd-item">
        <div>
          <a href="/big-data/hadoop_setup_3nodes/">
            3nodes-Hadoop-installation-setup
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/big-data/learning-bigdata/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/big-data/learning-bigdata/">Learning Big Data</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/big-data/learning-bigdata/01-intro/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/01-intro/">
            01 Introduction - BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/02-hadoop/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/02-hadoop/">
            02 Hadoop-introduction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/03-hadoop-on-ubuntu/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/03-hadoop-on-ubuntu/">
            03 Hadoop-installation(ubuntu)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/04-hdfs/" class="dd-item active">
        <div>
          <a href="/big-data/learning-bigdata/04-hdfs/">
            04 HDFS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/05-mapreduce/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/05-mapreduce/">
            05 MapReduce
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/06-mapreduce-example/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/06-mapreduce-example/">
            06 MapReduce-example
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/07-join-mapreduce/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/07-join-mapreduce/">
            07 Join-MapReduce
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/08-sqoop/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/08-sqoop/">
            08 SQOOP
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/09-flume/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/09-flume/">
            09 Flume
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/10-pig/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/10-pig/">
            10 Pig
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/11-oozie/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/11-oozie/">
            11 OOZIE
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/12-testing-bigdata/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/12-testing-bigdata/">
            12 Testing-BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/13-faq/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/13-faq/">
            13 FAQ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/14-top-tools-of-bigdata/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/14-top-tools-of-bigdata/">
            14 Top-tools-BigData
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/" class="dd-item">
        <div>
          <a href="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/">
            15 Top-BigData-Analytics-tools
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/content-organisation/" class="dd-item haschildren
        ">
      <div>
      <a href="/content-organisation/">Content Organisation - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/content-organisation/logo/" class="dd-item">
        <div>
          <a href="/content-organisation/logo/">
            Logo placeholder
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/extramenu/" class="dd-item">
        <div>
          <a href="/content-organisation/extramenu/">
            Extra menu entries
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/content-organisation/customize-style/" class="dd-item haschildren
        ">
      <div>
      <a href="/content-organisation/customize-style/">Customize website look and feel</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/content-organisation/customize-style/disable/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/disable/">
            Disable features
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/customize-style/themestyle/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/themestyle/">
            Theme styles
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/content-organisation/customize-style/theme-variants/" class="dd-item">
        <div>
          <a href="/content-organisation/customize-style/theme-variants/">
            Theme variants
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/">Shortcodes - Doc hub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/shortcodes/alert/" class="dd-item">
        <div>
          <a href="/shortcodes/alert/">
            alert
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/attachments/" class="dd-item">
        <div>
          <a href="/shortcodes/attachments/">
            attachments
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/button/" class="dd-item">
        <div>
          <a href="/shortcodes/button/">
            button
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/shortcodes/children/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/">children</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/">page 1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/">page 1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/">page 1-1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/">page 1-1-1-1</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/" class="dd-item
        ">
      <div>
      <a href="/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/">page 1-1-1-1-1</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/children/children-2/" class="dd-item haschildren
        ">
      <div>
      <a href="/shortcodes/children/children-2/">page 2</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/shortcodes/children/children-2/test3/" class="dd-item">
        <div>
          <a href="/shortcodes/children/children-2/test3/">
            page test 3
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/shortcodes/children/children-3/" class="dd-item
        ">
      <div>
      <a href="/shortcodes/children/children-3/">page 3</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
      <li data-nav-id="/shortcodes/children/test/" class="dd-item">
        <div>
          <a href="/shortcodes/children/test/">
            page test
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/shortcodes/excerpt/" class="dd-item">
        <div>
          <a href="/shortcodes/excerpt/">
            excerpt
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/excerpt-include/" class="dd-item">
        <div>
          <a href="/shortcodes/excerpt-include/">
            excerpt-include
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/expand/" class="dd-item">
        <div>
          <a href="/shortcodes/expand/">
            expand
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/icon/" class="dd-item">
        <div>
          <a href="/shortcodes/icon/">
            icon
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/mermaid/" class="dd-item">
        <div>
          <a href="/shortcodes/mermaid/">
            mermaid
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/notice/" class="dd-item">
        <div>
          <a href="/shortcodes/notice/">
            notice
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/panel/" class="dd-item">
        <div>
          <a href="/shortcodes/panel/">
            panel
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/shortcodes/revealjs/" class="dd-item">
        <div>
          <a href="/shortcodes/revealjs/">
            revealjs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/search/" class="dd-item
        ">
      <div>
      <a href="/search/">About the Search Engine - Doc hub</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/java-for-beginners/" >
   A Java Tutorial for Beginners</option>
    <option value="/it-infra/" >
   About IT - Infrastructure</option>
    <option value="/getting-start/" >
   Getting started - Doc hub</option>
    <option value="/create-page/" >
   Create Page-Doc hub</option>
    <option value="/big-data/" >
   Big - Data</option> 
      <option value="/big-data/hadoop_setup_3nodes/" >- 3nodes-Hadoop-installation-setup</option>
    <option value="/big-data/learning-bigdata/" >
  - 
   Learning Big Data</option> 
      <option value="/big-data/learning-bigdata/01-intro/" >-- 01 Introduction - BigData</option>
      <option value="/big-data/learning-bigdata/02-hadoop/" >-- 02 Hadoop-introduction</option>
      <option value="/big-data/learning-bigdata/03-hadoop-on-ubuntu/" >-- 03 Hadoop-installation(ubuntu)</option>
      <option value="/big-data/learning-bigdata/04-hdfs/"  selected>-- 04 HDFS</option>
      <option value="/big-data/learning-bigdata/05-mapreduce/" >-- 05 MapReduce</option>
      <option value="/big-data/learning-bigdata/06-mapreduce-example/" >-- 06 MapReduce-example</option>
      <option value="/big-data/learning-bigdata/07-join-mapreduce/" >-- 07 Join-MapReduce</option>
      <option value="/big-data/learning-bigdata/08-sqoop/" >-- 08 SQOOP</option>
      <option value="/big-data/learning-bigdata/09-flume/" >-- 09 Flume</option>
      <option value="/big-data/learning-bigdata/10-pig/" >-- 10 Pig</option>
      <option value="/big-data/learning-bigdata/11-oozie/" >-- 11 OOZIE</option>
      <option value="/big-data/learning-bigdata/12-testing-bigdata/" >-- 12 Testing-BigData</option>
      <option value="/big-data/learning-bigdata/13-faq/" >-- 13 FAQ</option>
      <option value="/big-data/learning-bigdata/14-top-tools-of-bigdata/" >-- 14 Top-tools-BigData</option>
      <option value="/big-data/learning-bigdata/15-top-bigdata-analytics-tool/" >-- 15 Top-BigData-Analytics-tools</option>
  
  
    <option value="/content-organisation/" >
   Content Organisation - Doc hub</option>
    <option value="/shortcodes/" >
   Shortcodes - Doc hub</option>
    <option value="/search/" >
   About the Search Engine - Doc hub</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/shengzhenfu.github.io\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>04 HDFS</h1>
    
    
    
    

<h1 id="what-is-hdfs"><strong>What is HDFS?</strong></h1>

<p>HDFS is a distributed file system for storing very large data files, running on clusters of commodity hardware. It is fault tolerant, scalable, and extremely simple to expand. Hadoop comes bundled with <strong>HDFS</strong> (<strong>Hadoop Distributed File Systems</strong>).</p>

<p>When data exceeds the capacity of storage on a single physical machine, it becomes essential to divide it across a number of separate machines. A file system that manages storage specific operations across a network of machines is called a distributed file system. HDFS is one such software.</p>

<p>In this tutorial, we will learn,</p>

<ul>
<li><a href="https://www.guru99.com/learn-hdfs-a-beginners-guide.html#5">What is HDFS?</a></li>
<li><a href="https://www.guru99.com/learn-hdfs-a-beginners-guide.html#6">HDFS Architecture</a></li>
<li><a href="https://www.guru99.com/learn-hdfs-a-beginners-guide.html#1">Read Operation</a></li>
<li><a href="https://www.guru99.com/learn-hdfs-a-beginners-guide.html#2">Write Operation</a></li>
<li><a href="https://www.guru99.com/learn-hdfs-a-beginners-guide.html#3">Access HDFS using JAVA API</a></li>
<li><a href="https://www.guru99.com/learn-hdfs-a-beginners-guide.html#4">Access HDFS Using COMMAND-LINE INTERFACE</a></li>
</ul>

<p><strong>HDFS Architecture</strong></p>

<p>HDFS cluster primarily consists of a <strong>NameNode</strong> that manages the file system <strong>Metadata</strong> and a <strong>DataNodes</strong> that stores the <strong>actual data</strong>.</p>

<ul>
<li><strong>NameNode:</strong> NameNode can be considered as a master of the system. It maintains the file system tree and the metadata for all the files and directories present in the system. Two files <strong>&lsquo;Namespace image&rsquo;</strong> and the <strong>&lsquo;edit log&rsquo;</strong> are used to store metadata information. Namenode has knowledge of all the datanodes containing data blocks for a given file, however, it does not store block locations persistently. This information is reconstructed every time from datanodes when the system starts.</li>
<li><strong>DataNode:</strong> DataNodes are slaves which reside on each machine in a cluster and provide the actual storage. It is responsible for serving, read and write requests for the clients.</li>
</ul>

<p>Read/write operations in HDFS operate at a block level. Data files in HDFS are broken into block-sized chunks, which are stored as independent units. Default block-size is 64 MB.</p>

<p>HDFS operates on a concept of data replication wherein multiple replicas of data blocks are created and are distributed on nodes throughout a cluster to enable high availability of data in the event of node failure.</p>

<p><strong><em>Do you know?</em></strong>  A file in HDFS, which is smaller than a single block, does not occupy a block&rsquo;s full storage.</p>

<p><strong>Read Operation In HDFS</strong></p>

<p>Data read request is served by HDFS, NameNode, and DataNode. Let&rsquo;s call the reader as a &lsquo;client&rsquo;. Below diagram depicts file read operation in Hadoop.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_0923_LearnHDFSAB1.png" alt="img" /></p>

<ol>
<li>A client initiates read request by calling <strong>&lsquo;open()&rsquo;</strong> method of FileSystem object; it is an object of type <strong>DistributedFileSystem</strong>.</li>
<li>This object connects to namenode using RPC and gets metadata information such as the locations of the blocks of the file. Please note that these addresses are of first few blocks of a file.</li>
<li>In response to this metadata request, addresses of the DataNodes having a copy of that block is returned back.</li>
<li>Once addresses of DataNodes are received, an object of type <strong>FSDataInputStream</strong> is returned to the client. <strong>FSDataInputStream</strong> contains <strong>DFSInputStream</strong> which takes care of interactions with DataNode and NameNode. In step 4 shown in the above diagram, a client invokes <strong>&lsquo;read()&rsquo;</strong> method which causes <strong>DFSInputStream</strong> to establish a connection with the first DataNode with the first block of a file.</li>
<li>Data is read in the form of streams wherein client invokes <strong>&lsquo;read()&rsquo;</strong> method repeatedly. This process of <strong>read()</strong> operation continues till it reaches the end of block.</li>
<li>Once the end of a block is reached, DFSInputStream closes the connection and moves on to locate the next DataNode for the next block</li>
<li>Once a client has done with the reading, it calls <strong>a close()</strong> method.</li>
</ol>

<p><strong>Write Operation In HDFS</strong></p>

<p>In this section, we will understand how data is written into HDFS through files.</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_0923_LearnHDFSAB2.png" alt="img" /></p>

<ol>
<li>A client initiates write operation by calling &lsquo;create()&rsquo; method of DistributedFileSystem object which creates a new file - Step no. 1 in the above diagram.</li>
<li>DistributedFileSystem object connects to the NameNode using RPC call and initiates new file creation. However, this file creates operation does not associate any blocks with the file. It is the responsibility of NameNode to verify that the file (which is being created) does not exist already and a client has correct permissions to create a new file. If a file already exists or client does not have sufficient permission to create a new file, then <strong>IOException</strong> is thrown to the client. Otherwise, the operation succeeds and a new record for the file is created by the NameNode.</li>
<li>Once a new record in NameNode is created, an object of type FSDataOutputStream is returned to the client. A client uses it to write data into the HDFS. Data write method is invoked (step 3 in the diagram).</li>
<li>FSDataOutputStream contains DFSOutputStream object which looks after communication with DataNodes and NameNode. While the client continues writing data, <strong>DFSOutputStream</strong> continues creating packets with this data. These packets are enqueued into a queue which is called as <strong>DataQueue</strong>.</li>
<li>There is one more component called <strong>DataStreamer</strong> which consumes this <strong>DataQueue</strong>. DataStreamer also asks NameNode for allocation of new blocks thereby picking desirable DataNodes to be used for replication.</li>
<li>Now, the process of replication starts by creating a pipeline using DataNodes. In our case, we have chosen a replication level of 3 and hence there are 3 DataNodes in the pipeline.</li>
<li>The DataStreamer pours packets into the first DataNode in the pipeline.</li>
<li>Every DataNode in a pipeline stores packet received by it and forwards the same to the second DataNode in a pipeline.</li>
<li>Another queue, &lsquo;Ack Queue&rsquo; is maintained by DFSOutputStream to store packets which are waiting for acknowledgment from DataNodes.</li>
<li>Once acknowledgment for a packet in the queue is received from all DataNodes in the pipeline, it is removed from the &lsquo;Ack Queue&rsquo;. In the event of any DataNode failure, packets from this queue are used to reinitiate the operation.</li>
<li>After a client is done with the writing data, it calls a close() method (Step 9 in the diagram) Call to close(), results into flushing remaining data packets to the pipeline followed by waiting for acknowledgment.</li>
<li>Once a final acknowledgment is received, NameNode is contacted to tell it that the file write operation is complete.</li>
</ol>

<p><strong>Access HDFS using JAVA API</strong></p>

<p>In this section, we try to understand<a href="https://www.guru99.com/java-tutorial.html"> Java </a>interface used for accessing Hadoop&rsquo;s file system.</p>

<p>In order to interact with Hadoop&rsquo;s filesystem programmatically, Hadoop provides multiple JAVA classes. Package named org.apache.hadoop.fs contains classes useful in manipulation of a file in Hadoop&rsquo;s filesystem. These operations include, open, read, write, and close. Actually, file API for Hadoop is generic and can be extended to interact with other filesystems other than HDFS.</p>

<p><strong>Reading a file from HDFS, programmatically</strong></p>

<p><strong>Object java.net.URL</strong> is used for reading contents of a file. To begin with, we need to make Java recognize Hadoop&rsquo;s hdfs URL scheme. This is done by calling <strong>setURLStreamHandlerFactory</strong> method on URL object and an instance of FsUrlStreamHandlerFactory is passed to it. This method needs to be executed only once per JVM, hence it is enclosed in a static block.</p>

<p>An example code is-</p>

<p>public class URLCat {     static {         URL.setURLStreamHandlerFactory(new FsUrlStreamHandlerFactory());     }     public static void main(String[] args) throws Exception {         InputStream in = null;         try {             in = new URL(args[0]).openStream();             IOUtils.copyBytes(in, System.out, 4096, false);         } finally {             IOUtils.closeStream(in);         }     } }</p>

<p>This code opens and reads contents of a file. Path of this file on HDFS is passed to the program as a command line argument.</p>

<p><strong>Access HDFS Using COMMAND-LINE INTERFACE</strong></p>

<p>This is one of the simplest ways to interact with HDFS. Command-line interface has support for filesystem operations like read the file, create directories, moving files, deleting data, and listing directories.</p>

<p>We can run <strong>&rsquo;$HADOOP_HOME/bin/hdfs dfs -help&rsquo;</strong> to get detailed help on every command. Here, <strong>&lsquo;dfs&rsquo;</strong> is a shell command of HDFS which supports multiple subcommands.</p>

<p>Some of the widely used commands are listed below along with some details of each one.</p>

<p>\1. Copy a file from the local filesystem to HDFS</p>

<p>$HADOOP_HOME/bin/hdfs dfs -copyFromLocal temp.txt /</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_0923_LearnHDFSAB3.png" alt="img" /></p>

<p>This command copies file temp.txt from the local filesystem to HDFS.</p>

<p>\2. We can list files present in a directory using <strong>-ls</strong></p>

<p>$HADOOP_HOME/bin/hdfs dfs -ls /</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_0923_LearnHDFSAB4.png" alt="img" /></p>

<p>We can see a file <strong>&lsquo;temp.txt&rsquo;</strong> (copied earlier) being listed under <strong>&rsquo; / &lsquo;</strong> directory.</p>

<p>\3. Command to copy a file to the local filesystem from HDFS</p>

<p>$HADOOP_HOME/bin/hdfs dfs -copyToLocal /temp.txt</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_0923_LearnHDFSAB5.png" alt="img" /></p>

<p>We can see <strong>temp.txt</strong> copied to a local filesystem.</p>

<p>\4. Command to create a new directory</p>

<p>$HADOOP_HOME/bin/hdfs dfs -mkdir /mydirectory</p>

<p><img src="https://www.guru99.com/images/Big_Data/061114_0923_LearnHDFSAB6.png" alt="img" /></p>

<p>Check whether a directory is created or not. Now, you should know how to do it ;-)</p>

<h2 id="05-mapreduce-intro">05 MapReduce Intro</h2>

<p><a href="/big-data/learning-bigdata/05-mapreduce/">05 MapReduce</a></p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/big-data/learning-bigdata/03-hadoop-on-ubuntu/" title="03 Hadoop-installation(ubuntu)"> <i class="fa fa-chevron-left"></i><label>03 Hadoop-installation(ubuntu)</label></a>
    <a class="nav nav-next" href="/big-data/learning-bigdata/05-mapreduce/" title="05 MapReduce" style="margin-right: 0px;"><label>05 MapReduce</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">
      <a href="https://shengzhenfu.github.ioBig-Data/Learning-BigData/04-HDFS.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    <p><strong>Doc hub</strong> @Shengzhen.Fu</p>

  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>